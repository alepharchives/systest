%% -------------------------------------------------------------------
%%
%% Copyright (c) 2005 - 2012 Nebularis.
%%
%% Permission is hereby granted, free of charge, to any person obtaining a copy
%% of this software and associated documentation files (the "Software"), to deal
%% in the Software without restriction, including without limitation the rights
%% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
%% copies of the Software, and to permit persons to whom the Software is
%% furnished to do so, subject to the following conditions:
%%
%% The above copyright notice and this permission notice shall be included in
%% all copies or substantial portions of the Software.
%%
%% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
%% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
%% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
%% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
%% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
%% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
%% THE SOFTWARE.
%% -----------------------------------------------------------------------------
%% This is the default trace configuration used by systest_tracer.erl
%% -----------------------------------------------------------------------------
{env, [
    {default_trace_config, [
        {trace_defaults, [
            {location,       'all'},
            {process_filter, 'all'},
            {trace_pattern, [
                {scope,     'global'},
                {module,    '_'},
                {function,  '_'},
                {arity,     '_'},
                {match_spec,
                    [{'_',[],[{message,{caller}},{exception_trace}]}]}
            ]},
        ]},
        %% TODO: deal with trace_defaults ++ overrides
        {pcall, [trace_defaults, {spec, 'c'}]},
        {send,  [trace_defaults, {spec, 's'}]},
        {recv,  [trace_defaults, {spec, 'r'}]},
        {msg,   [trace_defaults, {spec, 'm'}]},
        {sched, [trace_defaults, {spec, 'running'}]},
        {gc,    [trace_defaults, {spec, 'garbage_collection'}]}
    ]}
]}.
