
{clean_files, ["test-ebin", "priv/bin/*"]}.

{deps, [
    {rebar, ".*",
        {git, "https://github.com/hyperthunk/rebar.git", {branch, "systest"}}},

    %% NB: we don't *care* about the version as it's only used to build the
    %% documentation for parse_trans - we require explicitly so that users
    %% behind proxies not configured for git:// or ssh:// can fetch it!
    {edown, ".*",
        {git, "https://github.com/esl/edown.git"}},

    {parse_trans, "2.3-14-gf84867a",
        {git, "https://github.com/esl/parse_trans.git", "f84867ab1a"}}
]}.

{post_hooks, [
    {escriptize, "cp priv/bin/systest "
                 "\"priv/bin/systest-`git describe --abbrev=0 |"
                 " sed 's/v//g'`-SNAPSHOT\""}
]}.

{plugins, [systest_rebar]}.

{escript_incl_apps, [rebar]}.
{escript_incl_extra, [{"include/*", "."},
                      {"priv/banner.txt", "."}]}.
{escript_name, "priv/bin/systest"}.
